@define-mixin handle-selector {
  &::-webkit-slider-thumb {
    @mixin-content;
  }
  &::-ms-thumb {
    @mixin-content;
  }
  &::-moz-range-thumb {
    @mixin-content;
  }
}

@define-mixin track-selector {
  &::-webkit-slider-runnable-track {
    @mixin-content;
  }
  &::-moz-range-track {
    @mixin-content;
  }
  &::-ms-track {
    @mixin-content;
  }
}

$handle-color: #0096db;
$handle-color-hover: color($handle-color b(30%));
$handle-border-color-focused: color($handle-color b(30));
$handle-size: 1.6em;
$handle-shadow: 0 0.2em 0.375em color(black a(30%));
$slider-color: #E5E5E5;
$value-bg-color: #333;
$value-text-color: #fff;
$label-color: #333;
$label-font-size: 1.25em;

.root {

  font-size: 1rem;

  * {
    box-sizing: border-box;
  }

  /* Style range input */
  input[type=range] {
    -webkit-appearance: none;
    width: 100%; /* for Firefox */
    outline: none;
    margin: 0; padding: 0; /* for IE */

    /* Slider Handle/Thumb */
    @mixin handle-selector {
      -webkit-appearance: none;
      width: $handle-size;
      height: $handle-size;
      border-radius: 50%;
      background: $handle-color;
      box-shadow: $handle-shadow;
      cursor: pointer;
      transition: all .15s ease-in-out;

      &:hover {
        background: $handle-color-hover;
      }
    }

    &::-webkit-slider-thumb {
      margin-top: calc(-$handle-size/4);
    }

    &:focus,
    &:active {
      outline: none;
      @mixin handle-selector {
        box-shadow: $handle-shadow,
                    0 0 0 calc($handle-size/2) color($handle-color a(15%));
      }
    }

    /* remove outline in FF */
    &::-moz-focus-inner,
    &::-moz-focus-outer {
      border: 0;
      outline: none;
    }

    @mixin track-selector {
      height: calc($handle-size/2);
      border-radius: 0.312em;
      background: $slider-color;
      border-color: transparent;
      color: transparent;
      cursor: pointer;
      animate: 0.2s;
    }

    &::-ms-track {
      background: transparent;
      border-width: $handle-size 0;
    }
    &::-ms-fill-upper,
    &::-ms-fill-lower {
      background: $slider-color;

      border-radius: calc($handle-size/2);
    }

    &::-ms-tooltip {
      display: none;
    }
  }
}


/* Label text */
.label {
  margin: 0 0 0.5em;
  display: block;
  line-height: 1.3;
  font-size: $label-font-size;
  color: $label-color;
}

/* Slider + Tooltip */
.control {
  display: flex;
  justify-content: center;
  align-items: center;
}

/* Slider */
.input {
  flex: auto;
}

/* Tooltip/Selected Value */
.value {
  display: inline-block;
  position: relative;
  width: 4.375em;
  color: $value-text-color;
  font-size: 1em;
  line-height: 1.5;
  text-align: center;
  border-radius: 0.1875em;
  background: $value-bg-color;
  padding: 0.312em 0.625em;
  margin-left: 0.437em;

  &:after {
    content: "";
    position: absolute;
    top: 0.5em;
    left: -0.4375em;
    width: 0;
    height: 0;
    border-top: 0.5em solid transparent;
    border-right: 0.5em solid $value-bg-color;
    border-bottom: 0.5em solid transparent;
  }
}
